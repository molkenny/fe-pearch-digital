(function(t){function e(e){for(var a,s,i=e[0],c=e[1],u=e[2],d=0,m=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&m.push(o[s][0]),o[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(m.length)m.shift()();return n.push.apply(n,u||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],a=!0,i=1;i<r.length;i++){var c=r[i];0!==o[c]&&(a=!1)}a&&(n.splice(e--,1),t=s(s.s=r[0]))}return t}var a={},o={app:0},n=[];function s(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=a,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(r,a,function(e){return t[e]}.bind(null,a));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";r("85ec")},1:function(t,e){},"1e3b":function(t,e,r){"use strict";r("b3f8")},"26ee":function(t,e,r){"use strict";r("a199")},2728:function(t,e,r){"use strict";r("fcf0")},"47f4":function(t,e,r){t.exports=r.p+"img/spreadsheet.e316e8f6.png"},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container",attrs:{id:"App"}},[t.isNotInLogIn()&&t.isNotError()&&t.isNotForbidden()?r("NavBar"):t._e(),r("router-view")],1)},n=[],s=(r("b0c0"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[r("b-navbar-brand",{staticClass:"mr-5",attrs:{to:{name:"home"}}},[t._v("Pearch Digital")]),r("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),r("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[r("b-navbar-nav",[r("b-nav-item",{attrs:{to:{name:"home"}}},[t._v("Home")])],1),r("b-navbar-nav",[r("b-nav-item",{attrs:{to:{name:"weather"}}},[t._v("Weather")])],1),r("b-navbar-nav",{staticClass:"ml-auto"},[r("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[r("em",[t._v(t._s(t.getUsuario.name)+" ")])]},proxy:!0}])},[r("b-dropdown-item",{on:{click:t.mostrarCambioPassword}},[t._v("Cambiar Password")]),r("b-dropdown-item",{on:{click:t.logOut}},[t._v("Log Out")])],1)],1)],1)],1)],1)}),i=[],c=r("5530"),u=(r("498a"),r("2f62")),l={data:function(){return{permisos:null,usuario:null}},methods:{showErrorModal:function(t){this.$swal.fire({icon:"error",title:"ERROR!",text:t,timer:5500})},mostrarCambioPassword:function(){var t=this;this.$swal.fire({title:"Cambiar Password",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"Guardar",reverseButtons:!0,html:'<input id="passwordAnt" type="password" class="swal2-input" placeholder="Password Actual"><input id="passwordNew" type="password" class="swal2-input" placeholder="Password Nuevo"><input id="passwordNew2" type="password" class="swal2-input" placeholder="Confirmar Password">'}).then((function(e){if(e.isConfirmed){var r=document.getElementById("passwordAnt").value.trim(),a=document.getElementById("passwordNew").value.trim(),o=document.getElementById("passwordNew2").value.trim();r==a?t.showErrorModal("El nuevo password debe ser diferente al anterior"):a!=o?t.showErrorModal("La confirmacion debe ser igual al password nuevo"):t.cambioPassword(r,a)}}))},cambioPassword:function(t,e){var r=this;this.$http.put("user/password",{password_anterior:t,password:e},{headers:{Authorization:"Bearer "+this.$store.getters.getToken}}).then((function(t){if(!t.body||!t.body.success)throw new Error("Al cambiar password.");r.$swal.fire({position:"top-end",icon:"success",title:"El password fue cambiado",showConfirmButton:!1,timer:1500})}),(function(t){var e="Al conectar con el servidor";t.body&&!t.body.success&&(e=t.body.err.message||"Al conectar con el servidor"),r.showErrorModal(e)}))},logOut:function(){this.$store.commit("removeToken"),this.$router.push({name:"login"})}},computed:Object(c["a"])({},Object(u["b"])(["getUsuario","getPermisos"])),beforeMount:function(){this.permisos=this.getPermisos,this.usuario=this.getUsuario}},d=l,m=(r("26ee"),r("2877")),p=Object(m["a"])(d,s,i,!1,null,"7ead549e",null),f=p.exports,h={name:"App",data:function(){return{}},components:{NavBar:f},beforeMount:function(){this.$store.dispatch("setCurrentLocation")},methods:{isNotInLogIn:function(){return"login"!=this.$router.history.current["name"]},isNotError:function(){return"error"!=this.$router.history.current["name"]},isNotForbidden:function(){return"forbidden"!=this.$router.history.current["name"]}}},g=h,v=(r("034f"),Object(m["a"])(g,o,n,!1,null,null,null)),b=v.exports,w=r("28dd"),y=r("1dce"),x=r.n(y),_=r("8c4f"),k=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container pt-5"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-9 col-md-7 col-lg-5 mx-auto"},[r("div",{staticClass:"card card-signin my-5"},[r("div",{staticClass:"card-body"},[t._m(0),r("form",{staticClass:"form-signin",attrs:{id:"logInForm"},on:{submit:function(e){return e.preventDefault(),t.submitLogInForm.apply(null,arguments)}}},[r("div",{staticClass:"form-label-group"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.formdata.usuario,expression:"formdata.usuario",modifiers:{trim:!0}}],staticClass:"form-control",class:{error:t.$v.formdata.usuario.$error},attrs:{type:"text",name:"usuario",placeholder:"Usuario",autofocus:""},domProps:{value:t.formdata.usuario},on:{blur:[function(e){return t.$v.formdata.usuario.$touch()},function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||t.$set(t.formdata,"usuario",e.target.value.trim())}}}),t.$v.formdata.usuario.$error?r("div",{staticClass:"errorLabel"},[t.$v.formdata.usuario.required?t.$v.formdata.usuario.minLength?t._e():r("small",[t._v("Este campo debe tener al menos 4 caracteres")]):r("small",[t._v("Este campo es obligatorio")])]):t._e()]),r("div",{staticClass:"form-label-group"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.formdata.password,expression:"formdata.password",modifiers:{trim:!0}}],staticClass:"form-control",class:{error:t.$v.formdata.password.$error},attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.formdata.password},on:{blur:[function(e){return t.$v.formdata.password.$touch()},function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||t.$set(t.formdata,"password",e.target.value.trim())}}}),t.$v.formdata.password.$error?r("div",{staticClass:"errorLabel"},[t.$v.formdata.password.required?t.$v.formdata.password.minLength?t._e():r("small",[t._v("Este campo debe tener al menos 4 caracteres")]):r("small",[t._v("Este campo es obligatorio")])]):t._e()]),r("br",{staticClass:"my-5"}),t.loading?r("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"button",disabled:""}},[r("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}),t._v(" Loading... ")]):r("button",{staticClass:"btn btn-lg btn-primary btn-block text-uppercase",attrs:{type:"submit"}},[t._v("Entrar")])])])])])])])},C=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h5",{staticClass:"card-title text-center"},[r("b",[t._v("Log In")])])}],$=r("b5ae"),M=$.required,S=$.minLength,E={data:function(){return{loading:!1,formdata:{usuario:"",password:""}}},validations:{formdata:{usuario:{required:M,minLength:S(4)},password:{required:M}}},methods:{submitLogInForm:function(){var t=this;return this.$v.$touch(),this.$v.$invalid||(this.loading=!0,this.$http.post("login",{mail:this.formdata.usuario,password:this.formdata.password}).then((function(e){if(console.log("Response: ",e),!e.body||!e.body.success)throw new Error("Al enviar credenciales");t.$store.commit("setToken",e.body.data.token),t.$router.push({name:"home"})}),(function(e){t.loading=!1;var r="Al conectar con el servidor";e.body&&!e.body.success&&(r=e.body.err.message||"Al conectar con el servidor"),console.log(r)}))),!1}}},B=E,O=(r("7904"),Object(m["a"])(B,k,C,!1,null,null,null)),j=O.exports,A=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container-list-spreadsheet p-3"},[r("div",{staticClass:"text-right mb-4"},[r("b-button",{attrs:{variant:"primary"},on:{click:t.addNewSpreadSheet}},[t._v("Agregar")])],1),r("b-card-group",{staticClass:"spreadsheet-cards",attrs:{deck:""}},t._l(t.documents,(function(e,a){return r("b-card",{key:a,staticClass:"mb-3",attrs:{title:e.name},scopedSlots:t._u([{key:"footer",fn:function(){return[r("small",{staticClass:"text-muted"},[t._v("Editado "+t._s(e.updatedAt))]),r("b-button",{staticClass:"float-right ml-1",attrs:{size:"sm",variant:"danger"},on:{click:function(r){return t.deleteSpreadSheet(e.id)}}},[r("b-icon",{attrs:{icon:"trash","font-scale":"1"}})],1),r("b-button",{staticClass:"float-right",attrs:{size:"sm",variant:"warning"},on:{click:function(r){return t.editNewSpreadSheet(e.id,e.name)}}},[r("b-icon",{attrs:{icon:"pencil","font-scale":"1"}})],1)]},proxy:!0}],null,!0)},[r("b-card-body",{staticClass:"text-center pointer",on:{click:function(r){return t.verSpreadSheet(e.id)}}},[r("img",{staticClass:"card-img img-fluid",attrs:{src:t.Img,alt:"Img Spreadsheet"}})])],1)})),1)],1)},L=[],z=r("1da1"),D=(r("96cf"),{data:function(){return{usuario:this.$store.getters.getUsuario,Img:r("47f4"),documents:[]}},methods:{getUserSpreadSheets:function(){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$http.get("spreadsheet",{headers:{Authorization:"Bearer "+t.$store.getters.getToken}});case 3:r=e.sent,console.log("Response Spread"),r.body&&r.body.success?t.documents=r.body.data:console.log("Error al obtener spreadsheet"),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log("Al conectar con el servidor");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},addNewSpreadSheet:function(){var t=this;this.$swal.fire({title:"Agregar Nueva SpreadSheet",input:"text",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",showCancelButton:!0,confirmButtonText:"Guardar",inputPlaceholder:"Ingresar Nombre",reverseButtons:!0}).then((function(e){e.isConfirmed&&e.value&&t.$http.post("spreadsheet",{name:e.value},{headers:{Authorization:"Bearer "+t.$store.getters.getToken}}).then((function(e){e.body&&e.body.success?t.documents=e.body.data:console.log("Error al guardar")}),(function(t){var e=t.body.err.message||"Al conectar con el servidor";console.log(e)}))}))},deleteSpreadSheet:function(t){var e=this;this.$swal.fire({title:"Esta seguro de borrar el spreadSheet?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Borrar",reverseButtons:!0}).then((function(r){r.isConfirmed&&e.$http.delete("spreadsheet/".concat(t),{headers:{Authorization:"Bearer "+e.$store.getters.getToken}}).then((function(t){t.body&&t.body.success?e.documents=t.body.data:console.log("Error al borrar")}),(function(t){var e=t.body.err.message||"Al conectar con el servidor";console.log(e)}))}))},editNewSpreadSheet:function(t,e){var r=this;this.$swal.fire({title:"Editar nombre SpreadSheet",input:"text",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",showCancelButton:!0,confirmButtonText:"Guardar",inputValue:e,inputPlaceholder:"Ingresar Nombre",reverseButtons:!0}).then((function(e){e.isConfirmed&&e.value&&r.$http.put("spreadsheet/".concat(t),{name:e.value},{headers:{Authorization:"Bearer "+r.$store.getters.getToken}}).then((function(t){t.body&&t.body.success?r.documents=t.body.data:console.log("Error al guardar")}),(function(t){var e=t.body.err.message||"Al conectar con el servidor";console.log(e)}))}))},verSpreadSheet:function(t){this.$router.push({name:"spreadsheet",params:{id:t}})}},beforeMount:function(){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getUserSpreadSheets();case 2:case"end":return e.stop()}}),e)})))()}}),T=D,P=(r("1e3b"),Object(m["a"])(T,A,L,!1,null,null,null)),N=P.exports,I=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container m-auto text-center pt-5"},[r("div",{staticClass:"mb-4"},[r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"470",height:"290",viewBox:"0 0 470 290"}},[r("defs",[r("path",{staticClass:"fundo",attrs:{id:"prefix__a",d:"M5.063 128.67c-2.513 15.192 5.633 31.093 17.898 38.941 5.99 3.832 13.34 6.528 16.471 13.254 4.868 10.452-3.879 22.437-13.113 28.515-9.236 6.078-20.5 10.9-24.704 21.683-2.771 7.108-1.685 15.387 1.058 22.507 10.06 26.112 39.393 37.547 65.479 36.15 26.086-1.396 50.827-12.407 76.416-18.075 87.873-19.465 180.005 24.717 267.728 4.47 13.65-3.151 27.4-8.081 37.943-17.99 11.883-11.167 18.632-28.016 19.65-45.023.97-16.225-4.34-34.495-17.744-41.806-7.834-4.273-17.196-4.1-25.7-1.774-5.43 1.483-10.767 3.808-16.369 3.848-5.601.038-11.763-3-13.386-8.808-1.707-6.107 2.182-12.41 6.642-16.577 9.072-8.474 21.203-12.707 29.441-22.126 7.927-9.063 11.264-22.574 8.574-34.716-2.692-12.141-11.326-22.538-22.188-26.715-27.683-10.645-57.844 18.377-86.152 9.873-2.101-.63-4.312-1.605-5.418-3.641-1.08-1.988-.834-4.51-.214-6.716 3.468-12.348 16.939-20.21 17.528-33.102.32-7.008-3.504-13.564-8.325-18.251-33.126-32.2-81.125 6.102-114.9 18.194-55.542 19.884-112.157 36.49-167.849 55.963-20.81 7.275-44.91 18.606-48.766 41.922z"}})]),r("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[r("path",{attrs:{fill:"#FFF",d:"M0 0H1366V800H0z",transform:"translate(-448 -157)"}}),r("g",{attrs:{transform:"translate(-448 -157) translate(448 157)"}},[r("mask",{attrs:{id:"prefix__b",fill:"#fff"}},[r("use",{attrs:{"xlink:href":"#prefix__a"}})]),r("use",{attrs:{fill:"#F6F6F7","xlink:href":"#prefix__a"}}),r("path",{attrs:{fill:"#EDEDF0","fill-rule":"nonzero",d:"M-14.199 211.2H481.36V301.2H-14.199z",mask:"url(#prefix__b)"}}),r("g",{staticClass:"paes"},[r("g",{staticClass:"pao-baixo"},[r("path",{attrs:{fill:"#FBB965",d:"M2.79 131.737s-2.073 3.155-2.479 6.868c-.406 3.713-.747 9.666 1.24 13.372 1.985 3.707 12.69 20.8 65.175 21.02 53.15.225 69.188-15.685 70.59-18.977 2.605-6.118 1.838-21.327.06-22.283-1.777-.956-44.044-3.204-72.446-4.057-28.402-.854-49.872-1.968-62.14 4.057",transform:"translate(161 68)"}}),r("path",{attrs:{fill:"#E6A95F",d:"M34.648 167.758c-8.863-1.526-23.515-6.939-30.292-14.218-6.775-7.28-2.096-8.803 3.508-5.387 5.605 3.415 24.569 11.557 54.124 12.263 29.555.706 61.424-6.946 72.2-17.053 0 0 2.705-1.47 2.768 1.509.062 2.98.428 7.948-2.769 10.507-3.196 2.558-34.805 23.526-99.54 12.379",transform:"translate(161 68)"}}),r("path",{attrs:{fill:"#FFDA7F",d:"M5.679 131.837c-6.522 1.646-.275 6.91 9.492 12.14 9.767 5.229 28.24 10.257 44.267 10.015 16.028-.243 37.48-.481 52.543-5.333 15.06-4.852 16.223-9.55 17.998-13.298 1.774-3.748-107.32-7.809-124.3-3.524",transform:"translate(161 68)"}})]),r("g",{staticClass:"pao-cima"},[r("path",{attrs:{fill:"#FBB868",d:"M71.37 0C49.008.035-2.43.631 1.18 51.16c0 0-.018 10.84 62.825 10.84 62.844 0 72.591-9.633 73.721-11.173C142.284 44.623 147.583-.117 71.37 0",transform:"translate(161 68)"}}),r("path",{attrs:{fill:"#E6A95F",d:"M34.552 61c-7.628-1.006-23.98-2.904-27.586-5.506-3.606-2.604-7.448-2.895-5.39-10.826.842-3.242 7.976-.619 11.264.839 3.289 1.458 21.239 6.047 42.989 6.673 21.75.625 57.126-1.679 67.42-5.458 9.806-3.598 13.662-7.027 15.493-5.228 2.396 2.351 1.687 8.008-4.913 12.215-6.252 3.985-27.53 7.2-49.434 7.76-21.904.56-38.604 1.012-49.843-.469",transform:"translate(161 68)"}}),r("path",{attrs:{fill:"#FFEAD4",d:"M45.508 13.114c-.368.549-.54 1.598-.503 2.445.017.392.297.604.45.287.143-.297.222-.617.303-.978.087-.387.197-.735.238-1.15.042-.44-.257-.95-.488-.604M42.092 9.016c-.694.13-1.446.61-1.774 1.098-.168.248-.3.512-.317.792-.017.313.154.503.29.776.249.494 1.245.392 1.22-.162-.014-.274.33-.612.54-.817.367-.361.75-.62.923-1.075.154-.404-.413-.7-.882-.612M51.621 9.247c-.182-.409-.68-.325-.615.364.063.687.007 1.485.25 2.067.19.458.694.473.737-.25.043-.759-.109-1.592-.372-2.181M32.55 15.101c-1.206.547-1.849 1.662-1.414 2.552.188.384 1.21.504 1.46.077.188-.32.407-.629.616-.942.243-.363.63-.675.767-1.064.173-.486-.753-.93-1.43-.623M29.793 9.012c-.26-.108-.498.532-.62.942-.166.565-.205 1.033-.149 1.674.053.59.424.405.493-.048-.002.014.102-.302.138-.4.093-.247.18-.497.262-.76.113-.359.144-1.297-.124-1.408M38.384 6.056c-.737-.211-1.406.211-1.881.674-.53.514-.607 1.19-.39 1.829.167.5 1.09.632 1.326.096.127-.285.31-.53.533-.764.304-.32.72-.44.944-.848.237-.429-.053-.85-.532-.987M21.722 10.101c-.484-.28-1.16.08-1.542.378-.57.444-.957.924-1.152 1.628-.21.764.802 1.182 1.296.663.4-.42.901-.746 1.308-1.172.319-.334.594-1.205.09-1.497M23.513 15.078c-.385.414-.505 1.566-.513 2.381-.005.47.333.749.47.35.206-.592.422-1.34.517-2.047.082-.598-.253-.921-.474-.684M38.964 14.6c-.26-.324-1.293-.581-2.192-.6-.626-.012-.971.28-.65.452.459.244 1.155.57 2.063.547.56-.014.936-.205.78-.4M51.58 3.028c-.54-.1-.912.074-1.399.401-.45.304-.83.813-1.092 1.395-.344.76.386 1.437.866 1.076.662-.5 1.41-.857 1.914-1.641.255-.397.126-1.152-.29-1.23M66.234 9c-.923 0-2.062.305-2.227.708-.074.182.437.384.836.247.537-.185 1.29-.187 1.832-.364.59-.193.337-.591-.441-.591M60.589 9.375c-.101-.522-.482-.493-.556.048-.12.852.102 1.815.423 2.412.213.396.543.02.544-.494.002-.736-.283-1.302-.411-1.966M69.955 3.569c-.44-.473-1.713-.712-2.727-.479-.37.085-.24.315.044.396.601.173 1.168.408 1.848.503.49.069 1.042-.199.835-.42M73.956 10.626c-.231-.836-.735-1.255-1.316-1.507-.24-.104-.5-.147-.75-.1-.148.028-.273.063-.407.161-.032.022-.373.238-.223.161-.282.148-.382.791-.057.979.117.067.22.24.333.325.168.128.336.247.508.364.327.219.564.609.873.868.537.45 1.27-.42 1.04-1.251M66.549 15.017c-.83-.233-.486 2.056-.435 2.528.055.51.678.664.741.08.068-.628.42-2.405-.306-2.608M54.803 16.301c-.065-.347-.1-.709-.19-1.038-.107-.393-.44-.32-.532.052-.186.746-.052 2.313.405 2.636.225.16.545-.077.512-.623-.024-.375-.13-.676-.195-1.027M39.534 21.024c-.423.212-.58 1.352-.523 2.174.066.946.664 1.13.785.144.065-.538.22-1.041.203-1.612-.016-.528-.238-.82-.465-.706M15.946 21.201c-.04-.142-.134-.197-.214-.2-.311-.02-.464.621-.576 1.05-.124.468-.188.945-.14 1.461.053.562.486.699.57.088.053-.375.146-.754.233-1.107.108-.439.265-.815.127-1.292M14.918 16.274c-.067-.169-.25-.279-.46-.274-.571.015-1.05.232-1.55.61-.562.422-.976 1.023-.899 1.675.081.697.993.942 1.574.476.407-.326.746-.755 1.058-1.149.364-.462.441-.923.277-1.338M62.906 5.209c-.447-.277-1.34-.251-1.957-.083-.279.077-.57.172-.738.298-.069.051-.108.105-.15.16-.025.038-.037.076-.038.115.043.077.042.09-.003.037-.154.243.622.357.925.173.227-.051.444-.104.705-.13.521-.054 1.021-.089 1.286-.315.092-.078.088-.182-.03-.255M52.906 8.291c-.191-.24-.402-.204-.634-.28-.218-.073-.326.255-.245.491.117.34.438.509.697.497.26-.01.37-.472.182-.708M80.437 1.283c-.385-.22-.844-.327-1.272-.266-.497.071-.7.363-1.033.724-.356.388.07 1.143.54.93l-.065-.083c.095.05.192.08.295.09.177.032.31.074.477.16.373.189.702.503 1.023.78.348.301 1.738.788 1.586-.245-.141-.963-.789-1.652-1.551-2.09M78.955 8.082c-.134-.55-.259-1.126-.366-1.703-.102-.548-.457-.476-.541.05-.073.453-.057.877.01 1.331.083.548.286.874.512 1.17.11.144.276.048.357-.132.097-.215.088-.476.028-.716M87.395 8c-.77.016-1.317.338-2.032.43-.505.065-.477.525.046.56.713.047 1.359-.082 2.053-.14.468-.04 1.35.253 1.516-.164.191-.483-.906-.7-1.583-.685M81.958 14.767c-.103-.44-.306-.8-.377-1.279-.095-.644-.518-.678-.57.063-.07.998.19 1.845.53 2.34.293.426.566-.494.417-1.124M99.918 9.365c-.177-.18-.36-.23-.56-.337-.295-.16-.508.405-.225.646.181.155.805.626.863.04.012-.119-.003-.273-.078-.349M93.308 4.792c-.387-.436-.932-.682-1.466-.78-.809-.145-1.17 1.02-.47 1.477.65.427 1.772 2.34 2.503 1.097.376-.641-.178-1.356-.567-1.794M91.498 10.138c-.32.55-.428 1.334-.494 2.18-.043.546.266.928.442.494.21-.512.38-1.126.522-1.741.139-.605-.204-1.393-.47-.933M103.977 8.863c-.265-1.177-1.477-2.153-2.51-1.784-.548.195-.653 1.156-.104 1.442.294.153.53.397.762.655.326.36.549.611.988.784.564.223.992-.535.864-1.097M100.988 4.781c.03-.437-.169-.702-.568-.724-.906-.33-1.89.849-2.3 1.608-.47.873.538 1.63 1.223 1.22.683-.406 1.786-1.108 1.645-2.104M110.532 7.06c-.238-.218-.568.203-.463.619l.012.045c-.01.096-.001.204 0 .297 0 .14-.016.294-.025.434-.012.181-.043.357-.053.539-.013.245.016.45.06.612.091.33.32.515.53.304.108-.11.286-.37.335-.709.04-.276.058-.554.07-.836.024-.568-.189-1.052-.466-1.306M108.458 14.127c-.434-.548-.995-.921-1.662-1.103-.746-.203-1.116.933-.445 1.28.216.11.4.251.557.443.204.248.42.648.672.84.348.262.868.645 1.249.23.437-.478-.064-1.305-.37-1.69M117.71 13.184c-.282.276-.558.555-.852.815-.143.126-.333.256-.446.42-.108.156-.174.34-.284.489-.392.535.193 1.412.694.973.104-.091.318-.086.446-.134.16-.062.324-.11.486-.169.51-.186.872-.578 1.145-1.11.418-.816-.553-1.907-1.188-1.284M97.93 18.019c-.834-.165-1.209.791-.697 1.348.495.538 1.83 2.49 2.627 1.2.636-1.034-1.044-2.373-1.93-2.548M124.69 17.006c-.372.072-.428.396-.629.626-.202.23.139.496.376.3.22-.181.506-.403.559-.676.032-.168-.129-.285-.307-.25M115.979 19.839c-.079-.499-.153-.976-.264-1.445-.205-.86-.853-.174-.689.73.089.49.148.982.25 1.46.196.907.849.182.703-.745M78.957 24.496c.068-.31.05-.616-.02-.91-.077-.321-.14-.65-.183-1.002-.099-.82-.671-.76-.736.076-.056.71.019 1.361.23 1.918.132.348.265.461.467.377-.18.076.075.038.116.016.071-.038.117-.183.135-.33.01-.08.063-.472-.009-.145M61.924 22.403c-.057-.057-.16-.13-.189-.2-.132-.33-.73-.229-.735.1-.004.27.047.533.379.665.186.073.458.02.543-.14l.027-.053c.06-.114.083-.266-.025-.372M106.798 22.22c-.107-.292-.757-.304-.794.028-.032.293.107.618.488.731.229.068.532-.032.507-.257-.021-.186-.137-.329-.201-.502M70.884 28.197c-.13-.291-.716-.24-.83.025-.131.304-.034.606.41.754.101.033.24.034.334-.012.326-.16.181-.553.086-.767",transform:"translate(161 68)"}}),r("g",{staticClass:"olhos"},[r("path",{attrs:{fill:"#633",d:"M51.976 32.505c.27 2.748-1.735 5.197-4.476 5.47-2.748.274-5.199-1.732-5.476-4.48-.27-2.748 1.735-5.197 4.483-5.47 2.748-.274 5.192 1.733 5.469 4.48M93.976 28.505c.27 2.748-1.735 5.197-4.483 5.47-2.748.273-5.192-1.733-5.469-4.48-.27-2.748 1.735-5.197 4.483-5.47 2.748-.274 5.192 1.733 5.469  4.48M65.03 45.127c2.1-5.726 9.106-6.606 13.113-2.171.408.462-.277 1.204-.725.77-3.981-3.892-9.17-2.951-11.83 1.745-.187.333-.68-.002-.558-.344 ",transform:"translate(161 68)"}})])])]),r("g",{staticClass:"left-sparks",attrs:{"fill-rule":"nonzero",stroke:"#979797","stroke-linecap":"round","stroke-width":"1.8"}},[r("path",{attrs:{d:"M23.684 5.789L30 1.158",transform:"rotate(-90 157 13)"}}),r("path",{attrs:{d:"M0 5.789L6.316 1.158",transform:"rotate(-90 157 13) matrix(-1 0 0 1 6.316 0)"}}),r("path",{attrs:{d:"M15.789 4.632L15.789 0",transform:"rotate(-90 157 13)"}})]),r("g",{staticClass:"right-sparks",attrs:{"fill-rule":"nonzero",stroke:"#979797","stroke-linecap":"round","stroke-width":"1.8"}},[r("path",{attrs:{d:"M23.684 5.789L30 1.158",transform:"matrix(0 -1 -1 0 318 170)"}}),r("path",{attrs:{d:"M0 5.789L6.316 1.158",transform:"matrix(0 -1 -1 0 318 170) matrix(-1 0 0 1 6.316 0)"}}),r("path",{attrs:{d:"M15.789 4.632L15.789 0",transform:"matrix(0 -1 -1 0 318 170)"}})]),r("path",{staticClass:"path",attrs:{fill:"#4B4B62","fill-rule":"nonzero",stroke:"#4B4B62","stroke-width":"2",d:"M198.754 186c1.56 0 2.246-.703 2.246-2.3v-41.4c0-1.597-.686-2.3-2.246-2.3h-9.608c-1.56 0-2.247.703-2.247 2.3v19.678h-5.802c-1.185 0-1.934-.83-1.934-2.172V142.3c0-1.597-.686-2.3-2.246-2.3h-9.67c-1.56 0-2.247.703-2.247 2.3v22.425c0 7.283 3.244 10.606 11.355 10.606H186.9v8.369c0 1.597.687 2.3 2.247 2.3h9.608zm32.277 1c15.3 0 18.969-5.248 18.969-13.056V152.12c0-7.808-3.67-13.12-18.969-13.12-15.3 0-19.031 5.312-19.031 13.12v21.824c0 7.808 3.732 13.056 19.031 13.056zm.969-12c-4.25 0-5-1.27-5-2.986v-17.091c0-1.652.75-2.923 5-2.923 4.313 0 5 1.27 5 2.923v17.09c0 1.716-.688 2.987-5 2.987zm62.754 11c1.56 0 2.246-.703 2.246-2.3v-41.4c0-1.597-.686-2.3-2.246-2.3h-9.608c-1.56 0-2.247.703-2.247 2.3v19.678h-5.802c-1.185 0-1.934-.83-1.934-2.172V142.3c0-1.597-.686-2.3-2.246-2.3h-9.67c-1.56 0-2.247.703-2.247 2.3v22.425c0 7.283 3.244 10.606 11.355 10.606H282.9v8.369c0 1.597.687 2.3 2.247 2.3h9.608z"}})])])])]),r("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Volver")])],1)},F=[],R={},U=R,H=(r("e459"),Object(m["a"])(U,I,F,!1,null,null,null)),V=H.exports,G=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container m-auto text-center pt-5"},[r("img",{staticClass:"img-403",attrs:{src:t.Img403,alt:""}}),r("br"),r("b-button",{staticClass:"mt-5",attrs:{variant:"danger",size:"sm"},on:{click:function(e){return t.$router.go(-2)}}},[t._v("Volver")])],1)},W=[],q={data:function(){return{Img403:r("c839")}}},J=q,K=(r("e11e"),Object(m["a"])(J,G,W,!1,null,"541b3c2f",null)),Q=K.exports,X=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container-spreadsheet"},[t.documentData?r("div",[r("div",{staticStyle:{padding:"10px 20px"}},[r("b-button",{staticStyle:{padding:"1px 4px"},attrs:{size:"sm",variant:"danger"},on:{click:function(e){return t.$router.go(-1)}}},[r("b-icon",{attrs:{icon:"arrow-left"}})],1),r("span",{staticClass:"ml-3"},[r("b",[t._v(t._s(t.documentData.name))])]),r("b-button",{staticClass:"float-right",staticStyle:{padding:"1px 4px"},attrs:{size:"sm",variant:"primary"},on:{click:function(e){return t.guardarDatosEnBD(!0)}}},[t._v("Guardar")])],1),r("div",{ref:"xspreadsheet",attrs:{id:"xapp"}})]):r("div",{staticClass:"text-center mt-5"},[t._v(" No existe ese SpreadSheet ")])])},Y=[],Z=r("3835"),tt=(r("159b"),r("4fad"),r("8d4a")),et={data:function(){return{usuario:this.$store.getters.getUsuario,id_spreadsheet:0,documentData:null,document:null,options:{showToolbar:!1,view:{height:function(){return document.documentElement.clientHeight-102.5},width:function(){return document.documentElement.clientWidth}}}}},methods:{stox:function(t){var e=[];return t.forEach((function(t){for(var r={name:t.name,rows:{}},a=0,o=Object.entries(t.rows);a<o.length;a++){var n=Object(Z["a"])(o[a],2),s=n[0],i=n[1];r.rows[s]=i}e.push(r)})),e},guardarDatosEnBD:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.id_spreadsheet&&this.$http.put("spreadsheet/".concat(this.id_spreadsheet),{data:JSON.stringify(this.document.getData())},{headers:{Authorization:"Bearer "+this.$store.getters.getToken}}).then((function(r){r.body&&r.body.success?e&&t.$swal.fire({position:"top-end",icon:"success",title:"Guardado",showConfirmButton:!1,timer:1e3}):console.log("Error al guardar")}),(function(t){var e=t.body.err.message||"Al conectar con el servidor";console.log(e)}))},getUserSpreadSheet:function(){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$http.get("spreadsheet/".concat(t.id_spreadsheet),{headers:{Authorization:"Bearer "+t.$store.getters.getToken}});case 3:r=e.sent,console.log("Response Spread"),r.body&&r.body.success?r.body.data?(console.log(r.body.data),t.documentData=r.body.data):t.$swal.fire({icon:"error",title:"Oops...",text:"No existe ese SpreadSheet"}).then((function(){t.$router.push({name:"home"})})):console.log("Error al obtener spreadsheet"),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log("Al conectar con el servidor");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},mounted:function(){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.id_spreadsheet=t.$route.params.id,e.next=3,t.getUserSpreadSheet();case 3:r={},t.documentData.data&&(r=t.stox(JSON.parse(t.documentData.data))),t.document=new tt["a"](t.$refs.xspreadsheet,t.options).loadData(r).change((function(){})),t.documentData&&setInterval((function(){t.guardarDatosEnBD()}),1e4);case 7:case"end":return e.stop()}}),e)})))()}},rt=et,at=(r("7650"),Object(m["a"])(rt,X,Y,!1,null,null,null)),ot=at.exports,nt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container p-3 text-center"},[t.loading?r("div",{staticClass:"mt-3"},[r("b-icon",{attrs:{icon:"arrow-counterclockwise",animation:"spin-reverse","font-scale":"4"}})],1):r("div",{staticClass:"weather-card"},[r("b-card",{attrs:{"header-tag":"header"},scopedSlots:t._u([{key:"header",fn:function(){return[r("b-button",{staticClass:"float-left mr-3",attrs:{variant:"danger",size:"sm"},on:{click:function(e){return t.$router.go(-1)}}},[r("b-icon",{attrs:{icon:"arrow-left-short","font-scale":"1"}})],1),r("div",{staticClass:"float-left table-panel-title"},[t._v(" Wheather for "+t._s(t.city)+" ("+t._s(t.country_code)+") ")])]},proxy:!0}])},[r("div",[r("b-card-group",{attrs:{deck:""}},t._l(t.wheatherData,(function(e,a){return r("b-card",{key:a,staticClass:"mb-2",attrs:{"border-variant":"secondary",header:e.valid_date,"header-border-variant":"secondary",align:"center"}},[r("div",[r("span",[t._v("Temp max: "+t._s(e.high_temp))]),r("br"),r("span",[t._v("Temp min: "+t._s(e.min_temp))])])])})),1)],1)])],1)])},st=[],it=(r("d3b7"),r("99af"),{data:function(){return{loading:!0,location:this.getLocation,wheatherData:null,city:null,country_code:null,timezone:null}},computed:Object(c["a"])({},Object(u["b"])(["getLocation"])),watch:{getLocation:function(){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.location=t.getLocation,e.next=3,t.getWeather();case 3:t.loading=!1;case 4:case"end":return e.stop()}}),e)})))()}},methods:{getWeather:function(){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.location&&(console.log("lat: ",t.location.coords.latitude),console.log("long: ",t.location.coords.longitude),fetch("https://api.weatherbit.io/v2.0/forecast/daily?lat=".concat(t.location.coords.latitude,"&lon=").concat(t.location.coords.longitude,"&key=").concat("572a5d858c584aa88478863b6966e065")).then((function(t){return t.json()})).then((function(e){t.city=e.city_name,t.country_code=e.country_code,t.timezone=e.timezone,t.wheatherData=e.data,console.log(e)})).catch((function(t){console.log(t)})));case 1:case"end":return e.stop()}}),e)})))()}},beforeMount:function(){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.location=t.getLocation,e.next=3,t.getWeather();case 3:t.loading=!1;case 4:case"end":return e.stop()}}),e)})))()}}),ct=it,ut=(r("2728"),Object(m["a"])(ct,nt,st,!1,null,null,null)),lt=ut.exports,dt=r("b7c7"),mt=r.n(dt),pt=r("1232"),ft=r("0e44");a["default"].use(u["a"]);var ht=new u["a"].Store({state:{usuario:null,exp:null,token:null,permisos:null,document:null,location:null,error:null},getters:{getUsuario:function(t){return t.usuario},getToken:function(t){return t.token},getPermisos:function(t){return t.permisos},getDocument:function(t){return t.document},getLocation:function(t){return t.location}},actions:{setCurrentLocation:function(t){var e=t.commit;console.log("Set current Location"),e("setLocation",location)}},mutations:{setToken:function(t,e){localStorage.setItem("jwt-token",e);var r=Object(pt["a"])(e);t.exp=r.exp,t.token=e,t.permisos=r.user.id_group,t.usuario=r.user},removeToken:function(t){localStorage.removeItem("jwt-token"),t.exp=null,t.token=null,t.permisos=null,t.usuario=null},checkStoreToken:function(t){var e=localStorage.getItem("jwt-token");if(e){var r=Object(pt["a"])(e);t.exp=r.exp,t.token=e,t.permisos=r.user.id_group,t.usuario=r.user}},setDocument:function(t,e){t.document=e},setLocation:function(t){"geolocation"in navigator||(t.error="Geolocation is not available."),navigator.geolocation.getCurrentPosition((function(e){t.location=e}),(function(){t.error="Geolocation is not available."}))}},plugins:[Object(ft["a"])()]}),gt=function(t,e,r){ht.commit("checkStoreToken");var a=ht.getters.getToken||!1,o=ht.state.exp||!1;return!o||o<Math.floor(Date.now()/1e3)?(ht.commit("removeToken"),r({name:"login"})):a?r():r({name:"login"})},vt=function(t,e,r){ht.commit("checkStoreToken");var a=ht.getters.getToken||!1,o=ht.getters.getPermisos||!1,n=ht.state.exp||!1;return n&&n>=Math.floor(Date.now()/1e3)&&a&&o?r({name:"home"}):r()};a["default"].use(_["a"]);var bt=[{path:"/login",name:"login",component:j,meta:{middleware:vt}},{path:"/",name:"root",component:N,meta:{middleware:[gt]}},{path:"/home",name:"home",component:N,meta:{middleware:[gt]}},{path:"/weather",name:"weather",component:lt,meta:{middleware:[gt]}},{path:"/spreadsheet/:id",name:"spreadsheet",component:ot,meta:{middleware:[gt]}},{path:"/forbidden",name:"forbidden",component:Q,meta:{middleware:gt}},{path:"*",name:"error",component:V,meta:{middleware:gt}}],wt=new _["a"]({mode:"history",routes:bt});wt.beforeEach(mt()());var yt=r("5f5b"),xt=r("b1e0"),_t=(r("f9e3"),r("2dd8"),r("5886")),kt=(r("4413"),r("1881")),Ct=r.n(kt);a["default"].use(yt["a"]),a["default"].use(xt["a"]),a["default"].use(w["a"]),a["default"].use(x.a),a["default"].use(_t["a"]),a["default"].use(Ct.a),a["default"].http.options.root="https://test-pearch-digital.herokuapp.com/api/v1/",new a["default"]({router:wt,store:ht,render:function(t){return t(b)}}).$mount("#app")},"593d":function(t,e,r){},7650:function(t,e,r){"use strict";r("d175")},7904:function(t,e,r){"use strict";r("b644")},"85ec":function(t,e,r){},"8e74":function(t,e,r){},a199:function(t,e,r){},b3f8:function(t,e,r){},b644:function(t,e,r){},c839:function(t,e,r){t.exports=r.p+"img/error-403-forbidden.16823f5d.png"},d175:function(t,e,r){},e11e:function(t,e,r){"use strict";r("8e74")},e459:function(t,e,r){"use strict";r("593d")},fcf0:function(t,e,r){}});
//# sourceMappingURL=app.b738888c.js.map